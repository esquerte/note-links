<div class="note-edit" *ngIf="note">

    <mat-form-field>
        <input matInput #name maxlength="128" [placeholder]="'note.edit.noteNamePlaceholder' | translate" required [(ngModel)]="note.name">
        <mat-hint align="end">{{name.value?.length || 0}}/128</mat-hint>
    </mat-form-field>

    <div class="note-edit__date-block">

        <mat-form-field class="note-edit__date-picker">
            <input matInput [matDatepicker]="fromDatePicker" [placeholder]="'note.edit.noteFromDatePlaceholder' | translate" required [(ngModel)]="timeRange.fromDate" (dateChange)="onDateChanged(event$)">
            <mat-datepicker-toggle matSuffix [for]="fromDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #fromDatePicker></mat-datepicker>
        </mat-form-field>

        <mat-form-field class="note-edit__time-picker">
            <input matInput [ngxTimepicker]="fromTimePicker" [placeholder]="'note.edit.noteFromTimePlaceholder' | translate" [format]="timePickerFormat" [(ngModel)]="timeRange.fromTime"  >
            <ngx-material-timepicker #fromTimePicker (closed)="onFromTimeChanged(event$)"></ngx-material-timepicker>
        </mat-form-field>

    </div>

    <div class="note-edit__date-block">

        <mat-form-field class="note-edit__date-picker">
            <input matInput [matDatepicker]="toDatePicker" [placeholder]="'note.edit.noteToDatePlaceholder' | translate" [min]="timeRange.fromDate" [(ngModel)]="timeRange.toDate" (dateChange)="onDateChanged(event$)">
            <mat-datepicker-toggle matSuffix [for]="toDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #toDatePicker (dateChange)="onDateChanged(event$)"></mat-datepicker>
        </mat-form-field>

        <mat-form-field class="note-edit__time-picker">
            <input matInput [ngxTimepicker]="toTimePicker" [placeholder]="'note.edit.noteToTimePlaceholder' | translate" [format]="timePickerFormat" [min]="toTimeMinValue" [(ngModel)]="timeRange.toTime">
            <ngx-material-timepicker #toTimePicker></ngx-material-timepicker>
        </mat-form-field>

    </div>

    <mat-form-field> 
        <textarea matInput [placeholder]="'note.edit.noteTextPlaceholder' | translate" type="text"[(ngModel)]="note.text"></textarea>
    </mat-form-field>

    <div class="note-edit__buttons">
        <button class="note-edit__save-button" mat-raised-button (click)="saveNote()">{{ 'note.edit.noteSaveButton' | translate }}</button>
        <button class="note-edit__cancel-button" mat-raised-button (click)="cancelEditing()">{{ 'note.edit.cancelEditingButton' | translate }}</button>
    </div>

</div>

